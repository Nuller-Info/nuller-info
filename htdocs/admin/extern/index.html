<h1>Import und Export</h1>
<form>
  <table>
    <tbody>
      <tr>
	<th align="right"><label for="einstellungen.operation">Operation</label></th>
	<td>
	  <select ng-model="einstellungen.operation" id="einstellungen.operation" ng-disabled="busy">
	    <option value="export">Exportieren</option>
	    <option value="import">Importieren</option>
	  </select>
	</td>
      </tr>
      <tr>
	<th align="right"><label for="einstellungen.format">Format</label></th>
	<td>
	  <select ng-model="einstellungen.format" id="format" ng-disabled="busy">
	    <option value="trial-auswertung">Trial-Auswertung</option>
	    <option value="trialtool">TrialTool</option>
	  </select>
	</td>
      </tr>
    </tbody>
    <tbody ng-if="einstellungen.operation == 'import' && einstellungen.format == 'trial-auswertung'">
      <tr>
	<th align="right"><label for="tra_datei">tra-Datei</label></th>
	<td>
	  <input type="file" id="tra_datei" ng-disabled="busy"><br>
	  <span style="color:red">{{tra_datei_fehler}}</span>
	</td>
      </tr>
      <tr>
	<th align="right"></th>
	<td>
	  <button ng-click="import()" ng-disabled="busy">Importieren</button>
	</td>
      </tr>
    </tbody>
    <tbody ng-if="einstellungen.operation == 'import' && einstellungen.format == 'trialtool'">
      <tr>
	<th align="right"><label for="cfg_datei">cfg-Datei</label></th>
	<td>
	  <input type="file" id="cfg_datei" ng-disabled="busy"><br>
	  <span style="color:red">{{cfg_datei_fehler}}</span>
	</td>
      </tr>
      <tr>
	<th align="right"><label for="dat_datei">dat-Datei</label></th>
	<td>
	  <input type="file" id="dat_datei" ng-disabled="busy"><br>
	  <span style="color:red">{{dat_datei_fehler}}</span>
	</td>
      </tr>
      <tr>
	<th align="right"></th>
	<td>
	  <button ng-click="import()" ng-disabled="busy">Importieren</button>
	</td>
      </tr>
    </tbody>
    <tbody ng-if="einstellungen.operation == 'export' && einstellungen.format == 'trial-auswertung'">
      <tr>
	<th align="right"></th>
	<td>
	  <span ng-repeat="veranstaltung in veranstaltungen | filter:veranstaltung_sichtbar">
	    <a href="/api/veranstaltung/export?id={{veranstaltung.id}}">{{veranstaltung.titel}}</a><br>
	  </span>
	</td>
      </tr>
    </tbody>
    <tbody ng-if="einstellungen.operation == 'export' && einstellungen.format == 'trialtool'">
      <tr>
	<th align="right"></th>
	<td>
	  <span ng-repeat="veranstaltung in veranstaltungen | filter:veranstaltung_sichtbar">
	    {{veranstaltung.titel}}:
	    <a href="/api/trialtool/cfg?id={{veranstaltung.id}}">cfg</a>,
	    <a href="/api/trialtool/dat?id={{veranstaltung.id}}">dat</a><br>
	  </span>
	</td>
      </tr>
    </tbody>
  </table>
</form>
